"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7179],{7179:function(e,t,l){l.r(t),l.d(t,{BasicSelectFieldFilter:function(){return BasicSelectFieldFilter},ContentTypeFieldFilter:function(){return ContentTypeFieldFilter},CustomSearchBlock:function(){return CustomSearchBlock},DateRangeFieldFilter:function(){return DateRangeFieldFilter},DocumentCategoryFieldFilter:function(){return DocumentCategoryFieldFilter},DocumentCountryFieldFilter:function(){return DocumentCountryFieldFilter},DocumentLanguageFieldFilter:function(){return DocumentLanguageFieldFilter},DocumentYearFieldFilter:function(){return DocumentYearFieldFilter},KeywordFilterField:function(){return KeywordFilterField},MonthFieldFilter:function(){return MonthFieldFilter},NewsSelectFieldFilter:function(){return NewsSelectFieldFilter}});var r=l(5311),n=l(6840),o=l(1876),a=l(7444),i=l(2786),c=l(7570),u=l(5833);function KeywordFilterField(e){let{t}=(0,a.$G)("common"),l=(0,o.useRouter)(),{link:c,value:u,noLabel:s,onSubmit:d,inputProps:p,listProps:h,listItemProps:f,searchButtonProps:m,clearButtonProps:v,attributes:b,onChange:g,field_name:S,label:E,onLoad:x,required:y,placeholder:F,temporaryFilterData:w,reloadOnSelect:P=!0,showRequired:j}=e,k=(0,n.useRef)(null),[C,q]=(0,n.useState)(!1),[_,R]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{!1===C&&(q(!0),g&&g(null,S,E,u),x&&x(null,S,E,u))},[C,u,S,E,g,x]),(0,n.useEffect)(()=>()=>{(null==k?void 0:k.current)&&k.current.abort()},[k]),(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(i.r,{fullWidth:!0,onSelect:(e,t)=>{let{item:r}=t,n=new URLSearchParams;if(P){n.set("keyword",r);let e=[];n.forEach((t,l)=>{l.indexOf("_page")>-1&&e.push(l)}),e.forEach(e=>{n.delete(e)}),l.push("".concat(c,"?").concat(null==n?void 0:n.toString()))}else Object.keys(w).forEach(e=>{let t=w[e];t&&n.set(e,t)});g&&g(e,S,E,r),d&&d(e,{...t,field_name:S})},onClear:(e,t)=>{let r=new URLSearchParams;if(P){r.set("keyword","");let e=[];r.forEach((t,l)=>{l.indexOf("_page")>-1&&e.push(l)}),e.forEach(e=>{r.delete(e)}),l.push("".concat(c,"?").concat(null==r?void 0:r.toString()))}else Object.keys(w).forEach(e=>{let t=w[e];t&&r.set(e,t)});g&&g(e,S,E,"")},onSearch:e=>{let t=e.detail[0];R(!0),(null==k?void 0:k.current)&&k.current.abort();let r=new AbortController;k.current=r;let n=new URLSearchParams;n.append("locale",l.locale),n.append("keyword",t),fetch("/api/search-suggestions?".concat(null==n?void 0:n.toString()),{method:"GET",signal:r.signal}).then(t=>{t.text().then(t=>{var l;let r=JSON.parse(t),n=e.target,o=null==r?void 0:null===(l=r.results)||void 0===l?void 0:l.map(e=>(null==e?void 0:e.type.indexOf("taxonomy_term--"))>-1?(null==e?void 0:e.field_hashtag_override)?null==e?void 0:e.field_hashtag_override:null==e?void 0:e.field_hashtag:null==e?void 0:e.title);n.setAttribute("array",o.toString()),R(!1)}).catch(e=>{"AbortError"!==e.name&&(console.log(e),R(!1))})}),g&&g(e,S,E,t)},placeholder:void 0!==F?F:t("Search CACIB"),value:u,label:s?void 0:E||t("Search by keywords"),inputProps:p,listProps:h,listItemProps:f,searchButtonProps:m,clearButtonProps:v,attributes:b,required:y,showRequired:j,name:null==p?void 0:p.name,showBusy:_})})}function ContentTypeFieldFilter(e){let{t}=(0,a.$G)("common"),l=(0,o.useRouter)(),{link:i,value:u,inputProps:s,listProps:d,listItemProps:p,deleteButtonProps:h,openButtonProps:f,attributes:m,field_name:v,onChange:b,label:g,onLoad:S,options:E=[{value:"news",label:t("News")},{value:"pages",label:t("Webpages")},{value:"documents",label:t("Documents")}],reloadOnSelect:x=!0,name:y}=e,[F,w]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{F||(S&&S(null,v,g,[...E]),w(!0))},[S,F,v,g,E,u]),(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(c.d,{label:g||t("Category and subcategory"),placeholder:"",value:u,multiple:!0,required:!0,options:E,onSelect:(e,t)=>{var r;let n=[];if(null==t||null===(r=t.items)||void 0===r||r.forEach(e=>{n.push(null==e?void 0:e.value)}),x){let e=new URLSearchParams;e.set(v,n.join(","));let t=[];e.forEach((e,l)=>{l.indexOf("_page")>-1&&t.push(l)}),t.forEach(t=>{e.delete(t)}),l.push("".concat(i,"?").concat(null==e?void 0:e.toString()))}b&&b(e,v,g,[...n])},onClearSelection:(e,t)=>{if(x){let e=new URLSearchParams;e.delete(v);let t=[];e.forEach((e,l)=>{l.indexOf("_page")>-1&&t.push(l)}),t.forEach(t=>{e.delete(t)}),l.push("".concat(i,"?").concat(null==e?void 0:e.toString()))}b&&b(e,v,g,[])},fullWidth:!0,inputProps:s,listProps:d,listItemProps:p,deleteButtonProps:h,openButtonProps:f,attributes:m,name:y})})}function DateRangeFieldFilter(e){let{t}=(0,a.$G)("common"),{value:l,onChange:o,field_name:i,reloadOnSelect:c=!0}=e,{from:s,to:d}=l,p=(0,n.useRef)(null),h=(0,n.useCallback)(e=>{let{detail:t}=e,{startDate:l,endDate:r}=t;if(o){let t="yyyy-MM-dd";o(e,[i.from,i.to],"",[l?(0,u.W)(l,t):"",r?(0,u.W)(r,t):""])}},[i,o]);return(0,n.useEffect)(()=>{let e=null==p?void 0:p.current;return e&&e.addEventListener("updateRange",h),()=>{e&&e.removeEventListener("updateRange",h)}},[p,h]),(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:"flex flex-col lg:flex-row w-full lg:w-auto lg:-mx-3 -my-3 cib-date-range-picker-split",children:[(0,r.jsx)("div",{className:"flex lg:hidden cib-justify-between pb-1 cib-items-end pt-4.5 lg:pt-0 sticky top-0 z-10 lg:z-0 lg:static border-b lg:border-0 cib-border-default cib-bg-surface",children:(0,r.jsx)("label",{className:"cib-font-semibold cib-first-letter-capitalized cib-h-5 cib-text-major uppercase lg:normal-case",children:t("Date")})}),(0,r.jsx)("cib-date-range-picker",{"start-date-label":t("From"),"end-date-label":t("To"),"start-date":s||"","end-date":d||"",ref:p})]})})}function CustomSearchBlock(e){let{t}=(0,a.$G)("common"),[l,o]=(0,n.useState)(!1),[i,c]=(0,n.useState)(null),[u,s]=(0,n.useState)(!1),[d,p]=(0,n.useState)(!1),h=(0,n.useCallback)(e=>{e.preventDefault(),l||p(document.activeElement),o(!l)},[l]),f=(0,n.useCallback)(e=>{l&&(27===e.keyCode&&(document.activeElement.blur(),o(!l)),9===e.keyCode&&(e.shiftKey?document.activeElement===u[0]&&(e.preventDefault(),u.length>0&&u[u.length-1].focus()):document.activeElement===u[u.length-1]&&(e.preventDefault(),u.length>0&&u[0].focus())))},[l,u]);return(0,n.useEffect)(()=>{let e=document.querySelectorAll('[data-target="#search-box"]');if(e.forEach(e=>{c((null==e?void 0:e.href)?null==e?void 0:e.href:null==e?void 0:e.getAttribute("href")),e.addEventListener("click",h)}),document.body.classList.remove("mobile-menu-active"),document.addEventListener("keydown",f),l){let e=setTimeout(()=>{document.getElementById("search-keyword-input")&&document.getElementById("search-keyword-input").focus(),clearTimeout(e)},300);if(u.length>0&&u[1]&&u[1].focus(),!u){let e=document.querySelectorAll('[data-dialog-open="true"] a[href], [data-dialog-open="true"] area[href], [data-dialog-open="true"] input:not([disabled]), [data-dialog-open="true"] select:not([disabled]), [data-dialog-open="true"] textarea:not([disabled]), [data-dialog-open="true"] button:not([disabled]), [data-dialog-open="true"] [tabindex="0"]');s(e)}}else s(!1);return function(){let e=document.querySelectorAll('[data-target="#search-box"]');e.forEach(e=>{e.removeEventListener("click",h)}),document.removeEventListener("keydown",f)}},[h,f,l,u]),!l&&d&&d.blur(),(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{id:"search-box",role:"dialog","aria-modal":"true","data-dialog-open":l,children:l&&(0,r.jsxs)("form",{role:"search",onSubmit:e=>e.preventDefault(),className:"absolute w-full -z-10",children:[(0,r.jsx)("div",{className:"absolute right-5 top-5",children:(0,r.jsx)("a",{className:"cib-link text-base leading-6",onClick:h,href:"#","aria-label":t("Close the search bar"),children:t("Close")})}),(0,r.jsx)("div",{className:"cib-shadow-m px-5 lg:px-32.75 pt-7 py-3.5 lg:py-10 bg-surface lg:bg-secondary dark:bg-dark-gray-000 dark:xl:bg-dark-gray-100 absolute w-full -z-10",children:(0,r.jsx)("div",{children:(0,r.jsx)(KeywordFilterField,{link:i,label:t("Keyword Search"),onSubmit:(e,t)=>{o(!1)},inputProps:{id:"search-keyword-input",name:"search-keyword-input","aria-autocomplete":"list"},placeholder:"",listProps:{role:"listbox"},listItemProps:{role:"option"},searchButtonProps:{"aria-label":t("Search"),tabindex:0,role:"button"},clearButtonProps:{"aria-label":t("Clear"),tabindex:0,role:"button"},attributes:{role:"combobox"},required:!0,showRequired:!0})})}),(0,r.jsx)("div",{className:"fixed left-0 right-0 top-0 bottom-0 w-full h-full -z-20",onClick:e=>o(!1)})]})})})}function DocumentCategoryFieldFilter(e){let{t}=(0,a.$G)("common"),l=(0,o.useRouter)(),{link:i,value:u,inputProps:s,listProps:d,listItemProps:p,deleteButtonProps:h,openButtonProps:f,attributes:m,field_name:v,onChange:b,label:g,onLoad:S,options:E,reloadOnSelect:x=!0,name:y}=e,[F,w]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{F||(S&&S(null,v,g,[...E]),w(!0))},[S,F,v,g,E,u]),(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(c.d,{label:g||t("Category and subcategory"),placeholder:t("Ex: Activity Reports"),value:u,multiple:!0,required:!0,options:E,onSelect:(e,t)=>{var r;let n=[];if(null==t||null===(r=t.items)||void 0===r||r.forEach(e=>{n.push(null==e?void 0:e.value)}),x){let e=new URLSearchParams;e.set(v,n.join(","));let t=[];e.forEach((e,l)=>{l.indexOf("_page")>-1&&t.push(l)}),t.forEach(t=>{e.delete(t)}),l.push("".concat(i,"?").concat(null==e?void 0:e.toString()))}b&&b(e,v,g,[...n])},onClearSelection:(e,t)=>{if(x){let e=new URLSearchParams;e.delete(v);let t=[];e.forEach((e,l)=>{l.indexOf("_page")>-1&&t.push(l)}),t.forEach(t=>{e.delete(t)}),l.push("".concat(i,"?").concat(null==e?void 0:e.toString()))}b&&b(e,v,g,[])},fullWidth:!0,inputProps:s,listProps:d,listItemProps:p,deleteButtonProps:h,openButtonProps:f,attributes:m,name:y})})}function DocumentCountryFieldFilter(e){let{t}=(0,a.$G)("common"),l=(0,o.useRouter)(),{link:i,value:u,inputProps:s,listProps:d,listItemProps:p,deleteButtonProps:h,openButtonProps:f,attributes:m,field_name:v,onChange:b,label:g,onLoad:S,options:E,reloadOnSelect:x=!0,name:y}=e,[F,w]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{F||(S&&S(null,v,g,[...E]),w(!0))},[S,F,v,g,E,u]),(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(c.d,{label:g||t("Country"),placeholder:t("Ex: France"),value:u,multiple:!0,required:!0,options:E,onSelect:(e,t)=>{var r;let n=[];if(null==t||null===(r=t.items)||void 0===r||r.forEach(e=>{n.push(null==e?void 0:e.value)}),x){let e=new URLSearchParams;e.set(v,n.join(","));let t=[];e.forEach((e,l)=>{l.indexOf("_page")>-1&&t.push(l)}),t.forEach(t=>{e.delete(t)}),l.push("".concat(i,"?").concat(null==e?void 0:e.toString()))}b&&b(e,v,g,[...n])},onClearSelection:(e,t)=>{if(x){let e=new URLSearchParams;e.delete(v);let t=[];e.forEach((e,l)=>{l.indexOf("_page")>-1&&t.push(l)}),t.forEach(t=>{e.delete(t)}),l.push("".concat(i,"?").concat(null==e?void 0:e.toString()))}b&&b(e,v,g,[])},fullWidth:!0,inputProps:s,listProps:d,listItemProps:p,deleteButtonProps:h,openButtonProps:f,attributes:m,name:y,sortBy:"label"})})}function DocumentLanguageFieldFilter(e){let{t}=(0,a.$G)("common"),l=(0,o.useRouter)(),{link:i,value:u,inputProps:s,listProps:d,listItemProps:p,deleteButtonProps:h,openButtonProps:f,attributes:m,field_name:v,onChange:b,label:g,onLoad:S,options:E,reloadOnSelect:x=!0,name:y}=e,[F,w]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{F||(S&&S(null,v,g,[...E]),w(!0))},[S,F,v,g,E,u]),(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(c.d,{label:g||t("Language"),placeholder:t("Ex: English"),value:u,multiple:!0,required:!0,options:E,onSelect:(e,t)=>{var r;let n=[];if(null==t||null===(r=t.items)||void 0===r||r.forEach(e=>{n.push(null==e?void 0:e.value)}),x){let e=new URLSearchParams;e.set(v,n.join(","));let t=[];e.forEach((e,l)=>{l.indexOf("_page")>-1&&t.push(l)}),t.forEach(t=>{e.delete(t)}),l.push("".concat(i,"?").concat(null==e?void 0:e.toString()))}b&&b(e,v,g,[...n])},onClearSelection:(e,t)=>{if(x){let e=new URLSearchParams;e.delete(v);let t=[];e.forEach((e,l)=>{l.indexOf("_page")>-1&&t.push(l)}),t.forEach(t=>{e.delete(t)}),l.push("".concat(i,"?").concat(null==e?void 0:e.toString()))}b&&b(e,v,g,[])},fullWidth:!0,inputProps:s,listProps:d,listItemProps:p,deleteButtonProps:h,openButtonProps:f,attributes:m,name:y})})}function DocumentYearFieldFilter(e){let{t}=(0,a.$G)("common"),l=(0,o.useRouter)(),{link:i,value:u,inputProps:s,listProps:d,listItemProps:p,deleteButtonProps:h,openButtonProps:f,attributes:m,field_name:v,onChange:b,label:g,onLoad:S,options:E,reloadOnSelect:x=!0,name:y}=e,[F,w]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{F||(S&&S(null,v,g,[...E]),w(!0))},[S,F,v,g,E,u]),(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(c.d,{label:g||t("Year"),placeholder:t("Ex: 2022"),value:u,required:!0,options:E,onSelect:(e,t)=>{var r;let n=[];if(null==t||null===(r=t.items)||void 0===r||r.forEach(e=>{n.push(null==e?void 0:e.value)}),x){let e=new URLSearchParams;e.set(v,n.join(","));let t=[];e.forEach((e,l)=>{l.indexOf("_page")>-1&&t.push(l)}),t.forEach(t=>{e.delete(t)}),l.push("".concat(i,"?").concat(null==e?void 0:e.toString()))}b&&b(e,v,g,[...n])},onClearSelection:(e,t)=>{if(x){let e=new URLSearchParams;e.delete(v);let t=[];e.forEach((e,l)=>{l.indexOf("_page")>-1&&t.push(l)}),t.forEach(t=>{e.delete(t)}),l.push("".concat(i,"?").concat(null==e?void 0:e.toString()))}b&&b(e,v,g,[])},fullWidth:!0,inputProps:s,listProps:d,listItemProps:p,deleteButtonProps:h,openButtonProps:f,attributes:m,name:y,skipSort:!0})})}function MonthFieldFilter(e){let{t}=(0,a.$G)("common"),l=(0,o.useRouter)(),{link:i,value:u,inputProps:s,listProps:d,listItemProps:p,deleteButtonProps:h,openButtonProps:f,attributes:m,field_name:v,onChange:b,label:g,onLoad:S,options:E,reloadOnSelect:x=!0,name:y}=e,[F,w]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{F||(S&&S(null,v,g,[...E]),w(!0))},[S,F,v,g,E,u]),(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(c.d,{label:g||t("Month"),placeholder:t("Ex: January"),value:u,required:!0,options:E,onSelect:(e,t)=>{var r;let n=[];if(null==t||null===(r=t.items)||void 0===r||r.forEach(e=>{n.push(null==e?void 0:e.value)}),x){let e=new URLSearchParams;e.set(v,n.join(","));let t=[];e.forEach((e,l)=>{l.indexOf("_page")>-1&&t.push(l)}),t.forEach(t=>{e.delete(t)}),l.push("".concat(i,"?").concat(null==e?void 0:e.toString()))}b&&b(e,v,g,[...n])},onClearSelection:(e,t)=>{if(x){let e=new URLSearchParams;e.delete(v);let t=[];e.forEach((e,l)=>{l.indexOf("_page")>-1&&t.push(l)}),t.forEach(t=>{e.delete(t)}),l.push("".concat(i,"?").concat(null==e?void 0:e.toString()))}b&&b(e,v,g,[])},fullWidth:!0,inputProps:s,listProps:d,listItemProps:p,deleteButtonProps:h,openButtonProps:f,attributes:m,name:y,skipSort:!0})})}function BasicSelectFieldFilter(e){let{value:t,inputProps:l,listProps:o,listItemProps:a,deleteButtonProps:i,openButtonProps:u,attributes:s,field_name:d,onChange:p,label:h,onLoad:f,options:m,tree:v,placeholder:b,multiple:g,name:S}=e,[E,x]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{E||(f&&f(null,d,h,[...m]),x(!0))},[f,E,d,h,m,t]),(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(c.d,{label:h||"",placeholder:b||"",value:t,required:!0,options:m,onSelect:(e,t)=>{var l;let r=[];null==t||null===(l=t.items)||void 0===l||l.forEach(e=>{r.push(null==e?void 0:e.value)}),p&&p(e,d,h,[...r])},onClearSelection:(e,t)=>{p&&p(e,d,h,[])},fullWidth:!0,inputProps:l,listProps:o,listItemProps:a,deleteButtonProps:i,openButtonProps:u,attributes:s,tree:v,multiple:g,name:S})})}function NewsSelectFieldFilter(e){let t=(0,o.useRouter)(),{link:l,value:a,inputProps:i,listProps:u,listItemProps:s,deleteButtonProps:d,openButtonProps:p,attributes:h,field_name:f,onChange:m,label:v,placeholder:b,onLoad:g,options:S,reloadOnSelect:E=!0,tree:x=!1,name:y}=e,[F,w]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{F||(g&&g(null,f,v,[...S]),w(!0))},[g,F,f,v,S,a]),(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(c.d,{label:v||"",placeholder:b,value:a,multiple:!0,required:!0,options:S,onSelect:(e,r)=>{var n;let o=[];if(null==r||null===(n=r.items)||void 0===n||n.forEach(e=>{o.push(null==e?void 0:e.value)}),E){let e=new URLSearchParams;e.set(f,o.join(","));let r=[];e.forEach((e,t)=>{t.indexOf("_page")>-1&&r.push(t)}),r.forEach(t=>{e.delete(t)}),t.push("".concat(l,"?").concat(null==e?void 0:e.toString()))}m&&m(e,f,v,[...o])},onClearSelection:(e,r)=>{if(E){let e=new URLSearchParams;e.delete(f);let r=[];e.forEach((e,t)=>{t.indexOf("_page")>-1&&r.push(t)}),r.forEach(t=>{e.delete(t)}),t.push("".concat(l,"?").concat(null==e?void 0:e.toString()))}m&&m(e,f,v,[])},fullWidth:!0,inputProps:i,listProps:u,listItemProps:s,deleteButtonProps:d,openButtonProps:p,attributes:h,tree:x,name:y})})}},2786:function(e,t,l){l.d(t,{r:function(){return CIBSearchBar}});var r=l(5311),n=l(6840),o=l(7444);function CIBSearchBar(e){let{t}=(0,o.$G)("common"),{label:l,name:a,value:i,onSelect:c,onClear:u,placeholder:s,onSearch:d,fullWidth:p,inputProps:h,listProps:f,listItemProps:m,searchButtonProps:v,clearButtonProps:b,attributes:g,required:S,showRequired:E,showOptional:x,showBusy:y}=e,F=(0,n.useRef)(null),[w,P]=(0,n.useState)(null),j=(0,n.useCallback)(t=>{if(P(null),(null==e?void 0:e.required)&&!(null==t?void 0:t.detail[0])){P("This field is required.");return}if(null==F?void 0:F.current){let e=null==F?void 0:F.current.querySelector("input.cib-input");e&&(e.value=null==t?void 0:t.detail[0])}(null==t?void 0:t.detail[0])&&void 0!==c&&c(t,{elementProps:e,item:t.detail[0]}),(null==t?void 0:t.detail[0])||void 0===u||u(t,{elementProps:e})},[c,u,e]),k=(0,n.useCallback)(t=>{void 0!==u&&u(t,{elementProps:e})},[u,e]),C=(0,n.useCallback)(e=>{if(void 0!==d&&d(e),e.target.querySelector(".cib-ul-dropdown")){let t=e.target.querySelector(".cib-ul-dropdown");f&&Object.keys(f).forEach(e=>{t.setAttribute(e,f[e])}),m&&t.querySelectorAll(".cib-li-dropdown").length>0&&t.querySelectorAll(".cib-li-dropdown").forEach(e=>{Object.keys(m).forEach(t=>{e.setAttribute(t,m[t])})}),e.target.parentElement.querySelector(".searchbar-result-container")&&(e.target.parentElement.querySelector(".searchbar-result-container").innerHTML=t.querySelectorAll(".cib-li-dropdown").length)}},[d,m,f]),q=(0,n.useCallback)(e=>{if("Enter"===e.key&&(null==F?void 0:F.current)){var t,l,r,n;let e={};(null==F?void 0:null===(t=F.current)||void 0===t?void 0:t.querySelector(".cib-input"))&&(e={detail:[null==F?void 0:null===(n=F.current)||void 0===n?void 0:null===(r=n.querySelector(".cib-input"))||void 0===r?void 0:r.value]});let o=new CustomEvent("searchResults",e);null==F||null===(l=F.current)||void 0===l||l.dispatchEvent(o)}},[F]),_=(0,n.useCallback)(e=>{if("Enter"===e.key&&(null==F?void 0:F.current)){var t,l,r,n;let o=new Event("click");null==e||null===(t=e.target)||void 0===t||t.dispatchEvent(o),(null==F?void 0:null===(l=F.current)||void 0===l?void 0:l.querySelector(".cib-input"))&&(null==F||null===(n=F.current)||void 0===n||null===(r=n.querySelector(".cib-input"))||void 0===r||r.focus())}},[F]);return(0,n.useEffect)(()=>{let e=null==F?void 0:F.current;if(e){var t;e.addEventListener("searchResult",j),e.addEventListener("inputChange",C),e.addEventListener("clearInput",k),h&&e.querySelector(".cib-input")&&Object.keys(h).forEach(t=>{e.querySelector(".cib-input").setAttribute(t,h[t])}),v&&e.querySelector('[name="ic_search"')&&(e.querySelector('[name="ic_search"').setAttribute("aria-hidden","true"),Object.keys(v).forEach(t=>{e.querySelector('[name="ic_search"').parentElement.setAttribute(t,v[t])})),b&&e.querySelector('[name="ic_close"')&&(e.querySelector('[name="ic_close"').setAttribute("aria-hidden","true"),Object.keys(v).forEach(t=>{e.querySelector('[name="ic_close"').parentElement.setAttribute(t,b[t])})),(null==h?void 0:h.name)&&e.parentElement.querySelector("label")&&e.parentElement.querySelector("label").setAttribute("for",null==h?void 0:h.name),(null===(t=e.querySelector('[name="ic_search"'))||void 0===t?void 0:t.parentElement)&&e.querySelector('[name="ic_search"').parentElement.addEventListener("keypress",q)}return function(){if(e){var t;e.removeEventListener("searchResult",j),e.removeEventListener("inputChange",C),e.removeEventListener("clearInput",k),(null===(t=e.querySelector('[name="ic_search"'))||void 0===t?void 0:t.parentElement)&&e.querySelector('[name="ic_search"').parentElement.addEventListener("keypress",q),b&&e.querySelector('[name="ic_close"')&&e.querySelector('[name="ic_close"').parentElement.addEventListener("keypress",_)}}},[k,j,C,h,v,F,q,_,b]),(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{className:"cib-custom-element-class cib-font-open-sans ".concat(p?"w-full":""),...g,children:(0,r.jsxs)("div",{className:"cib-select-container cib-first-letter-capitalized cib-min-w ".concat(p?"w-full":""),children:[void 0!==l&&(0,r.jsxs)("div",{className:"cib-flex cib-justify-between pb-1 cib-items-end pt-4.5 lg:pt-0 top-0 z-10 lg:z-0",children:[(0,r.jsx)("div",{className:"cib-flex cib-items-center",children:(0,r.jsx)("div",{className:"cib-flex cib-items-center",children:(0,r.jsx)("label",{htmlFor:a,className:"cib-font-semibold cib-first-letter-capitalized cib-h-6 cib-text-major uppercase lg:normal-case",children:(0,r.jsx)("span",{className:"text-base leading-6",children:l})})})}),(!S&&x||S&&E)&&(0,r.jsx)("div",{className:"cib-main-font-body-s-regular cib-ml-2 cib-pb-1",children:(0,r.jsx)("span",{className:"".concat(S?"cib-text-required":"cib-text-minor"),children:t(S?"Required":"Optional")})})]}),(0,r.jsxs)("div",{className:"py-3 lg:py-0 relative",children:[(0,r.jsx)("cib-searchbar",{name:a,placeholder:s,value:i,"full-width":p,class:"".concat(p?"w-full":""," rounded focus-within:outline focus-within:outline-2 focus-within:outline-focused focus-within:outline-offset-1 dark:focus-within:outline-dark-focused"),required:S,ref:F}),(0,r.jsx)("span",{className:"sr-only searchbar-result-container",children:"0"}),y&&(0,r.jsx)("span",{className:"absolute top-[20%] lg:top-[-5%] right-16 scale-[50%] z-10",children:(0,r.jsx)("cib-spinner",{})})]}),w&&(0,r.jsx)("div",{children:(0,r.jsxs)("div",{className:"cib-flex cib-flex-row cib-pt-1 cib-main-font-body-s-regular",children:[(0,r.jsx)("cib-icon",{name:"ic_filled_error",size:"2","no-hover":!0,"no-active":!0,color:"var(--cib-color-error)",class:"pr-1 pt-1 pcib-custom-element-class cib-font-open-sans"}),(0,r.jsx)("span",{className:"cib-text-danger-strong cib-first-letter-capitalized cib-text-left",children:w})]})})]})})})}},5833:function(e,t,l){l.d(t,{W:function(){return format}});var r=l(3622),n=l(7705),o=l(3593);let a={fr:n.Z,enUS:o.Z},format=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"PP",l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!(e instanceof Date))return null;let n=l;n||(n=window.__localeId__),"en"===n&&(n="enUS");let o=a[n];return(0,r.Z)(e,t,{locale:o})}}}]);